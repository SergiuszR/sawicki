(()=>{var w={navThreshold:200,navTolerance:10,animationDuration:1.4,marqueeSpeed:40,breakpoints:{mobile:"(max-width: 991px)",tabletUp:"(min-width: 768px)",desktop:"(min-width: 992px)"}};var R=0;function M(){let r=$('[fs-scrolldisable-element="smart-nav"]');if(!r.length)return;let t=r.find(".variant-3, .variant-4"),e=r.data("wf-SNav-Variant")==="white"||r.attr("data-wf--s-nav--variant")==="white";e&&t.length&&t.removeClass("variant-4").addClass("variant-3"),$(window).on("scroll resize",()=>{let l=$(window).scrollTop();if(window.innerWidth<992){gsap.set(r,{yPercent:0}),r.removeClass("is-pinned");let o=r.find(".w-nav-menu").hasClass("w--open");!e&&t.length&&!o&&t.removeClass("variant-3").addClass("variant-4");return}let s=l>w.navThreshold;if(r.toggleClass("is-pinned",s),t.length&&!e&&(s?t.removeClass("variant-4").addClass("variant-3"):t.removeClass("variant-3").addClass("variant-4")),Math.abs(l-R)<=w.navTolerance)return;let g=l>R&&l>w.navThreshold;gsap.to(r,{yPercent:g?-100:0,duration:.4,ease:"power2.out",overwrite:"auto"}),R=l});let i=r.find(".w-nav-button");console.log("[SAW Nav] Hamburger element found:",i.length>0),console.log("[SAW Nav] CTA Button element found:",t.length>0),console.log("[SAW Nav] isWhiteVariant:",e),i.length&&t.length&&!e&&(new MutationObserver(()=>{if(console.log("[SAW Nav] Hamburger class changed"),window.innerWidth>=992)return;let s=i.hasClass("w--open");console.log("[SAW Nav] Menu open:",s),s?(t.removeClass("variant-4").addClass("variant-3"),console.log("[SAW Nav] Switched to variant-3")):(t.removeClass("variant-3").addClass("variant-4"),console.log("[SAW Nav] Switched to variant-4"))}).observe(i[0],{attributes:!0,attributeFilter:["class"]}),console.log("[SAW Nav] Hamburger observer started"))}var N=!1;function _(r){Y(),J(),X(r)}function Y(){if(typeof Swiper>"u")return;let r=".swiper",t=document.querySelector(r);if(t){if(!t.querySelector(".swiper-pagination")){let e=document.createElement("div");e.className="swiper-pagination",t.appendChild(e)}new Swiper(r,{slidesPerView:1,slidesPerGroup:1,spaceBetween:24,loop:!1,pagination:{el:".swiper-pagination",clickable:!0},navigation:{enabled:!1,nextEl:".slider_next",prevEl:".slider_prev",disabledClass:"is-disabled"},breakpoints:{768:{slidesPerView:3,pagination:{enabled:!1},navigation:{enabled:!0}}}})}}function X(r){r.add(w.breakpoints.tabletUp,()=>{let t=$("[data-testimonials]");if(!t.length)return;let e=t.children();t.css({display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"2rem",height:"65vh",overflow:"hidden"});let i=[0,1,2].map(()=>$('<div class="testi-col">').appendTo(t));e.each((l,s)=>i[l%3].append(s)),i.forEach((l,s)=>{l.append(l.children().clone(!0));let g=s===1;g&&gsap.set(l,{yPercent:-50}),gsap.to(l,{yPercent:g?0:-50,ease:"none",duration:w.marqueeSpeed,repeat:-1})})}),r.add(w.breakpoints.mobile,()=>{let t=$("[data-testimonials]");if(!t.length)return;let e=t.children();if(e.length<2)return;t.css({display:"flex",flexWrap:"nowrap",overflow:"hidden",gap:"1rem"}),e.css({flex:"0 0 85%",maxWidth:"85%"}),e.clone().appendTo(t);let i=e.length,s=e.eq(0).outerWidth(!0)*i;gsap.to(t.children(),{x:-s,duration:i*6,ease:"none",repeat:-1,modifiers:{x:gsap.utils.unitize(g=>parseFloat(g)%s)}})})}function J(){document.querySelectorAll(".services_slider-wrapper-inner").forEach(t=>{let e=t.closest(".w-tab-pane"),i=t.querySelectorAll(".w-dyn-item");if(!e||!i.length)return;let l=2,s=.5,g=3,a=0,o=null,p=null,m=document.createElement("div"),f=document.createElement("div");[m,f].forEach(u=>{Object.assign(u.style,{position:"absolute",width:"2px",zIndex:1,top:0,left:0,transformOrigin:"top left",pointerEvents:"none"}),t.appendChild(u)}),m.style.background="#E3E3E3",f.style.background="#06F",getComputedStyle(t).position==="static"&&(t.style.position="relative");let b=u=>{if(typeof u!="number"&&(u=a),!e.classList.contains("w--tab-active")||!document.body.contains(t))return;let h=t.getBoundingClientRect(),n=Array.from(i).map(O=>O.querySelector('[data-step="decor"]'));if(!n[0]||!n[n.length-1]||!n[0].isConnected)return;let d=n[0].getBoundingClientRect(),c=n[n.length-1].getBoundingClientRect(),v=d.left-h.left+d.width/2-1,S=d.top-h.top+d.height/2,E=c.top-h.top+c.height/2-S;gsap.set(m,{x:v,y:S,height:E});let y=Math.floor(u),q=Math.min(Math.ceil(u),i.length-1),k=u-y;if(!n[y]||!n[q])return;let L=n[y].getBoundingClientRect(),I=n[q].getBoundingClientRect(),T=L.top-h.top+L.height/2-S+(I.top-L.top)*k;gsap.set(f,{x:v,y:S,height:T})},x=()=>{if(!e.classList.contains("w--tab-active"))return;o&&o.kill();let u=a>=i.length-1?i.length:a+1,h={val:a};o=gsap.to(h,{val:u,duration:l,ease:"linear",onUpdate:()=>b(h.val),onComplete:()=>{a>=i.length-1?gsap.delayedCall(g,()=>{document.body.contains(t)&&e.classList.contains("w--tab-active")&&A()}):C(a+1)}}),N&&o.pause()},C=u=>{o&&o.kill(),p&&p.kill();let h=a;a=u,i.forEach((d,c)=>{let v=c<=u;d.querySelector('[data-step="decor"]')?.classList.toggle("is-active",v),d.querySelector("h4")?.classList.toggle("is-active",v)});let n=gsap.timeline({onUpdate:()=>b(a),onComplete:x});n.to(i[h].querySelector("[data-step-content]"),{height:0,duration:s,ease:"power2.inOut"},0).to(i[u].querySelector("[data-step-content]"),{height:"auto",duration:s,ease:"power2.inOut"},0),p=n},A=()=>{o&&o.kill(),p&&p.kill();let u=a;a=0;let h=gsap.timeline({onUpdate:()=>b(0),onComplete:x});h.to(i[u].querySelector("[data-step-content]"),{height:0,duration:.5},0).to(i[0].querySelector("[data-step-content]"),{height:"auto",duration:.5},0),i.forEach((n,d)=>{let c=d===0;n.querySelector('[data-step="decor"]')?.classList.toggle("is-active",c),n.querySelector("h4")?.classList.toggle("is-active",c)}),p=h};t.addEventListener("mouseenter",()=>{N=!0,o?.pause()}),t.addEventListener("mouseleave",()=>{N=!1,o?.play()}),i.forEach((u,h)=>{let n=u.querySelector('[data-step="header"]');n&&(n.style.cursor="pointer",n.addEventListener("click",()=>h!==a&&C(h)))}),window.addEventListener("resize",()=>b(a)),i.forEach((u,h)=>{let n=u.querySelector("[data-step-content]");h===0?(gsap.set(n,{height:"auto"}),u.querySelector('[data-step="decor"]')?.classList.add("is-active"),u.querySelector("h4")?.classList.add("is-active")):gsap.set(n,{height:0,overflow:"hidden"})}),new MutationObserver(()=>{e.classList.contains("w--tab-active")?(b(a),x()):(o?.pause(),p?.pause())}).observe(e,{attributes:!0,attributeFilter:["class"]}),e.classList.contains("w--tab-active")&&(b(0),x())})}function D(r){r.add(w.breakpoints.desktop,()=>{$("[data-expand]").each(function(){gsap.to(this,{width:"30rem",duration:w.animationDuration,ease:"power3.out",scrollTrigger:{trigger:this,start:"top 80%",toggleActions:"play none none none"}})})}),$("[data-fade-in], [data-split-text]").each(function(){let e=$(this),i=gsap.timeline({scrollTrigger:{trigger:e,start:"top 95%",toggleActions:"play none none none"}});if(e.is("[data-fade-in]")&&i.from(e,{opacity:0,y:40,duration:w.animationDuration,delay:.1,ease:"power3.out"},0),e.is("[data-split-text]")&&typeof SplitText<"u"){let l=new SplitText(e,{type:"lines,words"});i.from(l.words,{opacity:0,y:25,duration:1.2,stagger:.08,ease:"power3.out",delay:.1},0)}}),$("[data-grid]").each(function(){gsap.from($(this).children(),{opacity:0,y:30,scale:.9,duration:1.2,ease:"power3.out",stagger:{amount:.8,grid:"auto",from:"start"},scrollTrigger:{trigger:this,start:"top 95%",toggleActions:"play none none none"}})}),r.add(w.breakpoints.mobile,()=>{let e=$("[data-reload]").children();if(e.length){gsap.set(e,{position:"absolute",top:"3em",left:0,right:0,width:"100%",display:"none"}),gsap.set(e.eq(0),{top:"0em",display:"flex"});let s=gsap.timeline({repeat:-1});e.each(function(g){let a=$(this),o=e.eq((g+1)%e.length);s.to(a,{top:"-3em",duration:1.2,ease:"power3.inOut"},"+=2.5").set(o,{display:"flex",top:"3em"},"<").to(o,{top:"0em",duration:1.2,ease:"power3.inOut"},"<").set(a,{display:"none",top:"3em"})})}let i=$("[data-grid]"),l=i.children();if(l.length){gsap.set(i,{display:"flex",overflow:"hidden",width:"100%"}),gsap.set(l,{flex:"0 0 100%",width:"100%"});let s=l.length*100;gsap.to(l,{xPercent:`-=${s}`,duration:w.marqueeSpeed,ease:"none",repeat:-1,modifiers:{xPercent:gsap.utils.unitize(g=>parseFloat(g)%s)}})}});let t=$("#footer-logo");t.length&&gsap.from(t.find("path"),{opacity:0,y:30,duration:.8,stagger:.05,ease:"power2.out",scrollTrigger:{trigger:t,start:"top 90%",toggleActions:"play none none none"}})}function B(){document.addEventListener("click",r=>{let t=r.target.closest("[data-copy]");if(!t)return;let e=t.closest(".w-col, .w-row, .w-container, section")||t.parentElement,i=t.closest('a[href^="mailto:"]')||t.querySelector('a[href^="mailto:"]')||e?.querySelector('a[href^="mailto:"]');if(i){let l=i.href.replace("mailto:","").split("?")[0];navigator.clipboard?.writeText(l)}})}function H(){let r=document.querySelector('[data-toc="contents"]'),t=document.querySelector('[data-toc="list"]');if(!r||!t)return;let e=r.querySelector(".blog-post-header_title-wrapper h1"),i=r.querySelector(".blog-post-content_content"),l=i?i.querySelectorAll("h2, h3"):[],s=[];if(e&&s.push(e),l.forEach(o=>s.push(o)),!s.length)return;t.innerHTML="",s.forEach((o,p)=>{let m=`toc-${p}`;o.id=m;let f=document.createElement("a");f.href=`#${m}`,f.className=`toc_link is-${o.tagName.toLowerCase()}`,f.textContent=o.textContent.trim(),t.appendChild(f)});let g=t.querySelectorAll("a"),a=new IntersectionObserver(o=>{o.forEach(p=>{if(p.isIntersecting){g.forEach(f=>f.classList.remove("is-active"));let m=t.querySelector(`a[href="#${p.target.id}"]`);m&&m.classList.add("is-active")}})},{rootMargin:"-20px 0px -80% 0px"});s.forEach(o=>a.observe(o)),t.addEventListener("click",o=>{let p=o.target.closest("a");if(!p)return;o.preventDefault();let m=p.getAttribute("href").slice(1),f=document.getElementById(m);if(f){let C=f.getBoundingClientRect().top+window.scrollY-120;window.scrollTo({top:C,behavior:"smooth"})}})}function U(){let r=document.querySelectorAll("[data-list]"),t=document.querySelector("[data-modal-wrapper]"),e=document.querySelectorAll("[data-modal]"),i=document.querySelectorAll(".modal_close-button"),l=()=>{t&&t.classList.remove("show")};r.forEach(s=>{s.addEventListener("click",function(g){g.preventDefault();let a=this.getAttribute("data-list");t&&t.classList.add("show"),e.forEach(o=>{if(o.getAttribute("data-modal")===a){o.style.display="block",o.style.opacity="1";let p=o.closest(".w-dyn-item");p&&(p.style.display="block")}else o.style.display="none"})})}),i.forEach(s=>{s.addEventListener("click",g=>{g.preventDefault(),l()})}),document.addEventListener("keydown",s=>{s.key==="Escape"&&l()})}function F(){function r(){let t=document.querySelector(".services_outer-wrapper.is-list"),e=document.querySelector(".services_slider-wrapper-line"),i=document.querySelectorAll('[data-step="decor"]');if(!t||!e||i.length<2)return;let l=t.getBoundingClientRect(),s=i[0].getBoundingClientRect(),g=i[i.length-1].getBoundingClientRect(),a=s.top+s.height/2-l.top,o=g.top+g.height/2-s.top-s.height/2,p=s.left+s.width/2-l.left;e.style.cssText=`position: absolute; top: ${a}px; height: ${o}px; left: ${p}px; transform: translateX(-50%);`}r(),window.addEventListener("resize",r)}function P(){document.querySelectorAll(".services_slider-wrapper-inner").forEach(t=>{let e=t.querySelectorAll(".w-dyn-item");if(!e.length)return;let i=2,l=.5,s=3,g="invert(32%) sepia(99%) saturate(1352%) hue-rotate(203deg) brightness(98%) contrast(106%)",a=0,o=null,p=null,m=!1,f=(n,d)=>{let c=n.querySelector("img");c&&(c.style.transition="filter 0.3s ease",c.style.filter=d?g:"none")};getComputedStyle(t).position==="static"&&(t.style.position="relative");let b=document.createElement("div"),x=document.createElement("div");[b,x].forEach(n=>{Object.assign(n.style,{position:"absolute",width:"2px",zIndex:1,top:0,left:0,transformOrigin:"top left",pointerEvents:"none"}),t.appendChild(n)}),b.style.background="#E3E3E3",x.style.background="#06F";let C=n=>{typeof n!="number"&&(n=a);let d=t.getBoundingClientRect();if(d.height===0)return;let c=Array.from(e).map(j=>j.querySelector('[data-step="decor"]'));if(!c[0]||!c[c.length-1])return;let v=c[0].getBoundingClientRect(),S=c[c.length-1].getBoundingClientRect(),E=v.left-d.left+v.width/2-1,y=v.top-d.top+v.height/2,q=S.top-d.top+S.height/2-y;gsap.set(b,{x:E,y,height:q});let k=Math.floor(n),L=Math.min(Math.ceil(n),e.length-1),I=n-k;if(!c[k]||!c[L])return;let T=c[k].getBoundingClientRect(),O=c[L].getBoundingClientRect(),V=T.top-d.top+T.height/2-y,z=O.top-T.top,G=V+z*I;gsap.set(x,{x:E,y,height:G})},A=()=>{o&&o.kill();let n=a>=e.length-1?e.length:a+1,d={val:a};o=gsap.to(d,{val:n,duration:i,ease:"linear",onUpdate:()=>C(d.val),onComplete:()=>{a>=e.length-1?gsap.delayedCall(s,h):u(a+1)}}),m&&o.pause()},u=n=>{o&&o.kill(),p&&p.kill();let d=a;a=n,e.forEach((E,y)=>{let q=y<=n;E.querySelector('[data-step="decor"]')?.classList.toggle("is-active",q),E.querySelector("h4")?.classList.toggle("is-active",q),f(E,q)});let c=gsap.timeline({onUpdate:()=>C(a),onComplete:A}),v=e[d].querySelector("[data-step-content]"),S=e[n].querySelector("[data-step-content]");c.to(v,{height:0,duration:l,ease:"power2.inOut"},0).to(S,{height:"auto",duration:l,ease:"power2.inOut"},0),p=c},h=()=>{o&&o.kill(),p&&p.kill();let n=a;a=0;let d=gsap.timeline({onUpdate:()=>C(0),onComplete:A});e.forEach((S,E)=>{let y=E===0;S.querySelector('[data-step="decor"]')?.classList.toggle("is-active",y),S.querySelector("h4")?.classList.toggle("is-active",y),f(S,y)});let c=e[n].querySelector("[data-step-content]"),v=e[0].querySelector("[data-step-content]");d.to(c,{height:0,duration:.5},0).to(v,{height:"auto",duration:.5},0),p=d};t.addEventListener("mouseenter",()=>{m=!0,o?.pause()}),t.addEventListener("mouseleave",()=>{m=!1,o?.play()}),e.forEach((n,d)=>{let c=n.querySelector('[data-step="header"]');c&&(c.style.cursor="pointer",c.addEventListener("click",()=>{d!==a&&u(d)}))}),new ResizeObserver(()=>C(a)).observe(t),e.forEach((n,d)=>{let c=n.querySelector("[data-step-content]");f(n,d===0),d===0?(gsap.set(c,{height:"auto"}),n.querySelector('[data-step="decor"]')?.classList.add("is-active"),n.querySelector("h4")?.classList.add("is-active")):gsap.set(c,{height:0,overflow:"hidden"})}),requestAnimationFrame(()=>{C(0),A()})})}var W=()=>{if(typeof gsap>"u"||typeof $>"u"){setTimeout(W,100);return}console.log("[SAW] Initializing...");let r=gsap.matchMedia();M(),_(r),D(r),B(),H(),U(),F(),P()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",W):W();})();
